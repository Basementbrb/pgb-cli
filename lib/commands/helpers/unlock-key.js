const prompt=require('../../util/prompt'),series=require('../../util/misc').promiseSeries,promptForAndroid=()=>{let a=pgb.opts.variables.keystore_password;delete pgb.opts.variables.keystore_password;let b=pgb.opts.variables.key_password;return delete pgb.opts.variables.key_password,series(()=>a||prompt('Keystore Password: ',{mask:!0}),()=>b||prompt('Private Key Password: ',{mask:!0})).then((a)=>({keystore_pw:a[0],key_pw:a[1]}))},promptForIOSAndWindows=()=>{let a=pgb.opts.variables.key_password;return delete pgb.opts.variables.key_password,a?Promise.resolve({password:a}):prompt('Key Password: ',{mask:!0}).then((a)=>({password:a}))};module.exports=(a)=>'android'===a?promptForAndroid():promptForIOSAndWindows();