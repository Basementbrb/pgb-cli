const payload=require('./payload'),merge=require('../../util/misc').merge,path=require('path'),fs=require('fs');module.exports.getData=a=>{let b={keys:{}};if(a)try{let b=path.resolve(path.join(a,'.pgbrc'));pgb.opts.variables=merge(JSON.parse(fs.readFileSync(b,'utf8')),pgb.opts.variables),pgb.debug(`reading ${b}`)}catch(a){if('SyntaxError'===a.name)throw new Error('invalid json in .pgbrc file')}return payload.addVariables(b,'hydrates','share','tag','debug','private','pull','zip','android-phonegap:android_phonegap_version','winphone-phonegap:winphone_phonegap_version','ios-phonegap:ios_phonegap_version','phonegap:phonegap_version'),payload.addVariables(b.keys,'android-key:android','windows-key:windows','ios-key:ios','winphone-key:winphone'),b.ignore=pgb.opts.variables.ignore||[],b};